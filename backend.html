<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#1a1a1a">
  <title>Zmile Checkpoint - Admin Review</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0d0d0d;
      min-height: 100vh;
      padding: 24px;
      color: #e0e0e0;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 24px;
      flex-wrap: wrap;
      gap: 16px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, #4CAF50, #2E7D32);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .logo-icon svg {
      width: 24px;
      height: 24px;
      color: white;
    }

    .logo-text {
      font-size: 1.3rem;
      font-weight: 700;
      color: #fff;
    }

    .logo-text span {
      color: #4CAF50;
    }

    .admin-badge {
      background: #2a2a2a;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      color: #888;
      font-weight: 500;
    }

    /* Status Banner */
    .status-banner {
      background: #1e1e1e;
      border-radius: 12px;
      padding: 16px 20px;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border: 1px solid #2a2a2a;
      flex-wrap: wrap;
      gap: 12px;
    }

    .status-info {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .status-icon {
      width: 44px;
      height: 44px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .status-icon.pending {
      background: rgba(255, 152, 0, 0.15);
      color: #FF9800;
    }

    .status-icon.approved {
      background: rgba(76, 175, 80, 0.15);
      color: #4CAF50;
    }

    .status-icon.issues {
      background: rgba(239, 83, 80, 0.15);
      color: #ef5350;
    }

    .status-icon svg {
      width: 24px;
      height: 24px;
    }

    .status-text h2 {
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
    }

    .status-text p {
      font-size: 0.8rem;
      color: #888;
      margin-top: 2px;
    }

    .review-progress {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 0.85rem;
      color: #888;
    }

    .progress-count {
      font-weight: 600;
      color: #4CAF50;
    }

    /* Trip Info Card */
    .trip-card {
      background: #1e1e1e;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 24px;
      border: 1px solid #2a2a2a;
    }

    .trip-card-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 16px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .trip-title {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #888;
      margin-bottom: 4px;
    }

    .trip-id {
      font-size: 1.4rem;
      font-weight: 700;
      color: #fff;
    }

    .submission-time {
      text-align: right;
      font-size: 0.8rem;
      color: #666;
    }

    .submission-time strong {
      color: #888;
    }

    .trip-details {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
    }

    .trip-detail {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .trip-detail-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      color: #666;
      letter-spacing: 0.3px;
    }

    .trip-detail-value {
      font-size: 0.95rem;
      font-weight: 600;
      color: #fff;
    }

    /* Section Title */
    .section-title {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: #888;
      margin: 28px 0 16px 0;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .section-title::after {
      content: '';
      flex: 1;
      height: 1px;
      background: #2a2a2a;
    }

    /* Review Item Card */
    .review-item {
      background: #1e1e1e;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      border: 2px solid #2a2a2a;
      transition: border-color 0.2s;
    }

    .review-item.approved {
      border-color: #4CAF50;
    }

    .review-item.needs-retake {
      border-color: #ef5350;
    }

    .review-item-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .review-item-title {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .item-icon {
      width: 36px;
      height: 36px;
      background: #2a2a2a;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .item-icon svg {
      width: 20px;
      height: 20px;
      color: #888;
    }

    .item-icon.photo {
      background: rgba(76, 175, 80, 0.15);
    }

    .item-icon.photo svg {
      color: #4CAF50;
    }

    .item-icon.video {
      background: rgba(255, 87, 34, 0.15);
    }

    .item-icon.video svg {
      color: #FF5722;
    }

    .item-icon.question {
      background: rgba(33, 150, 243, 0.15);
    }

    .item-icon.question svg {
      color: #2196F3;
    }

    .item-name {
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
    }

    .item-meta {
      font-size: 0.75rem;
      color: #666;
      margin-top: 2px;
    }

    .item-status-badge {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
    }

    .item-status-badge.pending {
      background: rgba(255, 152, 0, 0.15);
      color: #FF9800;
    }

    .item-status-badge.approved {
      background: rgba(76, 175, 80, 0.15);
      color: #4CAF50;
    }

    .item-status-badge.needs-retake {
      background: rgba(239, 83, 80, 0.15);
      color: #ef5350;
    }

    .item-status-badge.noted {
      background: rgba(33, 150, 243, 0.15);
      color: #2196F3;
    }

    /* Media Preview */
    .media-preview {
      margin-bottom: 16px;
      border-radius: 10px;
      overflow: hidden;
      background: #2a2a2a;
      position: relative;
    }

    .media-preview img,
    .media-preview video {
      width: 100%;
      max-height: 400px;
      object-fit: cover;
      display: block;
      background: #1a1a1a;
    }

    .zoom-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      width: 36px;
      height: 36px;
      background: rgba(0, 0, 0, 0.7);
      border: none;
      border-radius: 8px;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .zoom-btn:hover {
      background: rgba(0, 0, 0, 0.85);
    }

    .zoom-btn svg {
      width: 20px;
      height: 20px;
    }

    /* Review Actions */
    .review-actions {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }

    .action-btn {
      flex: 1;
      padding: 14px 20px;
      font-size: 0.9rem;
      font-weight: 600;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.15s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .action-btn svg {
      width: 20px;
      height: 20px;
    }

    .btn-approve {
      background: rgba(76, 175, 80, 0.15);
      border: 2px solid transparent;
      color: #4CAF50;
    }

    .btn-approve:hover {
      background: rgba(76, 175, 80, 0.25);
    }

    .btn-approve.selected {
      border-color: #4CAF50;
      background: rgba(76, 175, 80, 0.25);
    }

    .btn-reject {
      background: rgba(239, 83, 80, 0.15);
      border: 2px solid transparent;
      color: #ef5350;
    }

    .btn-reject:hover {
      background: rgba(239, 83, 80, 0.25);
    }

    .btn-reject.selected {
      border-color: #ef5350;
      background: rgba(239, 83, 80, 0.25);
    }

    /* Notes Section */
    .notes-section {
      display: none;
    }

    .notes-section.active {
      display: block;
    }

    .notes-label {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 8px;
    }

    .notes-row {
      display: flex;
      gap: 12px;
      align-items: flex-start;
    }

    .notes-input {
      flex: 1;
      padding: 12px 16px;
      font-size: 0.9rem;
      font-family: inherit;
      background: #2a2a2a;
      border: 1px solid #3a3a3a;
      border-radius: 10px;
      color: #fff;
      resize: vertical;
      min-height: 80px;
    }

    .notes-input:focus {
      outline: none;
      border-color: #ef5350;
    }

    .notes-input::placeholder {
      color: #666;
    }

    .notes-update-btn {
      padding: 12px 20px;
      font-size: 0.85rem;
      font-weight: 600;
      background: #ef5350;
      border: none;
      border-radius: 10px;
      color: #fff;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.15s;
      height: fit-content;
    }

    .notes-update-btn:hover {
      background: #f44336;
    }

    .notes-update-btn:active {
      transform: scale(0.98);
    }

    .notes-update-btn.saved {
      background: #4CAF50;
    }

    /* Question Review */
    .question-review {
      background: #1e1e1e;
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 16px;
      border: 2px solid #2a2a2a;
      transition: border-color 0.2s;
    }

    .question-review.approved {
      border-color: #4CAF50;
    }

    .question-review.needs-retake {
      border-color: #ef5350;
    }

    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      flex-wrap: wrap;
      gap: 12px;
    }

    .question-title-row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .question-text {
      font-size: 1rem;
      font-weight: 600;
      color: #fff;
    }

    .answer-badge {
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .answer-badge.yes {
      background: rgba(255, 152, 0, 0.15);
      color: #FF9800;
    }

    .answer-badge.no {
      background: rgba(76, 175, 80, 0.15);
      color: #4CAF50;
    }

    .evidence-photos {
      margin-bottom: 16px;
      padding: 16px;
      background: #252525;
      border-radius: 10px;
    }

    .evidence-label {
      font-size: 0.8rem;
      color: #888;
      margin-bottom: 12px;
    }

    .evidence-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
    }

    .evidence-thumb {
      aspect-ratio: 1;
      border-radius: 8px;
      overflow: hidden;
      background: #2a2a2a;
      cursor: pointer;
      transition: transform 0.15s;
    }

    .evidence-thumb:hover {
      transform: scale(1.02);
    }

    .evidence-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Submit Button */
    .submit-section {
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid #2a2a2a;
    }

    .submit-summary {
      background: #1e1e1e;
      border-radius: 12px;
      padding: 16px 20px;
      margin-bottom: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }

    .summary-stats {
      display: flex;
      gap: 24px;
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .stat-value.approved {
      color: #4CAF50;
    }

    .stat-value.retake {
      color: #ef5350;
    }

    .stat-value.pending {
      color: #FF9800;
    }

    .stat-label {
      font-size: 0.7rem;
      text-transform: uppercase;
      color: #666;
      margin-top: 2px;
    }

    .submit-btn {
      width: 100%;
      padding: 18px 24px;
      font-size: 1.1rem;
      font-weight: 600;
      color: white;
      background: linear-gradient(135deg, #4CAF50, #2E7D32);
      border: none;
      border-radius: 14px;
      cursor: pointer;
      transition: transform 0.15s, box-shadow 0.15s;
      box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
    }

    .submit-btn:hover {
      transform: translateY(-1px);
    }

    .submit-btn:active {
      transform: scale(0.99);
    }

    .submit-btn:disabled {
      background: #2a2a2a;
      color: #666;
      box-shadow: none;
      cursor: not-allowed;
      transform: none;
    }

    .submit-btn.has-issues {
      background: linear-gradient(135deg, #FF9800, #F57C00);
      box-shadow: 0 4px 20px rgba(255, 152, 0, 0.3);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.95);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      max-width: 90vw;
      max-height: 90vh;
      object-fit: contain;
      border-radius: 8px;
    }

    .modal-close {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 44px;
      height: 44px;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      border-radius: 50%;
      color: #fff;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.2);
    }

    /* Responsive */
    @media (max-width: 600px) {
      body {
        padding: 16px;
      }
      
      .review-actions {
        flex-direction: column;
      }
      
      .summary-stats {
        width: 100%;
        justify-content: space-around;
      }

      .notes-row {
        flex-direction: column;
      }

      .notes-update-btn {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header">
      <div class="logo">
        <div class="logo-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
            <path d="M9 11l3 3L22 4"/>
            <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
          </svg>
        </div>
        <div class="logo-text">Zmile <span>Checkpoint</span></div>
      </div>
      <div class="admin-badge">Admin Review</div>
    </div>

    <!-- Status Banner -->
    <div class="status-banner">
      <div class="status-info">
        <div class="status-icon pending" id="overallStatusIcon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="12"/>
            <line x1="12" y1="16" x2="12.01" y2="16"/>
          </svg>
        </div>
        <div class="status-text">
          <h2 id="overallStatusTitle">Pending Review</h2>
          <p id="overallStatusDesc">Review all items below to complete</p>
        </div>
      </div>
      <div class="review-progress">
        <span>Reviewed:</span>
        <span class="progress-count" id="reviewedCount">0</span>
        <span>/ 6 items</span>
      </div>
    </div>

    <!-- Trip Info -->
    <div class="trip-card">
      <div class="trip-card-header">
        <div>
          <div class="trip-title">Trip Number</div>
          <div class="trip-id">TRP-284719</div>
        </div>
        <div class="submission-time">
          <div><strong>Submitted:</strong> Feb 4, 2025</div>
          <div>2:34 PM EST</div>
        </div>
      </div>
      <div class="trip-details">
        <div class="trip-detail">
          <span class="trip-detail-label">Trailer #</span>
          <span class="trip-detail-value">ABCD-531092</span>
        </div>
        <div class="trip-detail">
          <span class="trip-detail-label">Driver</span>
          <span class="trip-detail-value">Marcus Johnson</span>
        </div>
        <div class="trip-detail">
          <span class="trip-detail-label">Type</span>
          <span class="trip-detail-value">Pickup</span>
        </div>
        <div class="trip-detail">
          <span class="trip-detail-label">Location</span>
          <span class="trip-detail-value">Dallas, TX</span>
        </div>
      </div>
    </div>

    <!-- Section: Photos -->
    <div class="section-title">Photo Evidence (3)</div>

    <!-- Photo 1 -->
    <div class="review-item" id="item-photo1">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon photo">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Front Driver Corner Photo</div>
            <div class="item-meta">Captured at 2:31 PM</div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-photo1">Pending</span>
      </div>
      
      <div class="media-preview">
        <img src="https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=800&h=500&fit=crop" alt="Front driver corner of trailer">
        <button class="zoom-btn" onclick="openModal('https://images.unsplash.com/photo-1601584115197-04ecc0da31d7?w=1200')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            <line x1="11" y1="8" x2="11" y2="14"/>
            <line x1="8" y1="11" x2="14" y2="11"/>
          </svg>
        </button>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-photo1" onclick="setStatus('photo1', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-photo1" onclick="setStatus('photo1', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-photo1">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-photo1" placeholder="e.g., Image is too dark, corner not visible, retake during daylight..."></textarea>
          <button class="notes-update-btn" id="notes-btn-photo1" onclick="saveNotes('photo1')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Photo 2 -->
    <div class="review-item" id="item-photo2">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon photo">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Trailer Doors (Lights ON)</div>
            <div class="item-meta">Captured at 2:32 PM</div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-photo2">Pending</span>
      </div>
      
      <div class="media-preview">
        <img src="https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=800&h=500&fit=crop" alt="Trailer doors with lights">
        <button class="zoom-btn" onclick="openModal('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?w=1200')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            <line x1="11" y1="8" x2="11" y2="14"/>
            <line x1="8" y1="11" x2="14" y2="11"/>
          </svg>
        </button>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-photo2" onclick="setStatus('photo2', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-photo2" onclick="setStatus('photo2', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-photo2">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-photo2" placeholder="e.g., Lights not visible in photo, doors not fully shown..."></textarea>
          <button class="notes-update-btn" id="notes-btn-photo2" onclick="saveNotes('photo2')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Photo 3 -->
    <div class="review-item" id="item-photo3">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon photo">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
              <circle cx="12" cy="13" r="4"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Passenger Side Clearance Light</div>
            <div class="item-meta">Captured at 2:33 PM</div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-photo3">Pending</span>
      </div>
      
      <div class="media-preview">
        <img src="https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=800&h=500&fit=crop" alt="Clearance lights on trailer">
        <button class="zoom-btn" onclick="openModal('https://images.unsplash.com/photo-1519003722824-194d4455a60c?w=1200')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
            <line x1="11" y1="8" x2="11" y2="14"/>
            <line x1="8" y1="11" x2="14" y2="11"/>
          </svg>
        </button>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-photo3" onclick="setStatus('photo3', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-photo3" onclick="setStatus('photo3', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-photo3">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-photo3" placeholder="e.g., Wrong side photographed, light not visible..."></textarea>
          <button class="notes-update-btn" id="notes-btn-photo3" onclick="saveNotes('photo3')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Section: Video -->
    <div class="section-title">Video Evidence (1)</div>

    <!-- Video -->
    <div class="review-item" id="item-video">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon video">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polygon points="23 7 16 12 23 17 23 7"/>
              <rect x="1" y="5" width="15" height="14" rx="2" ry="2"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Walk-around Video</div>
            <div class="item-meta">Duration: 0:47 • Captured at 2:34 PM</div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-video">Pending</span>
      </div>
      
      <div class="media-preview">
        <img src="https://images.unsplash.com/photo-1562939677-2c68e0bf8a8e?w=800&h=500&fit=crop" alt="Walk-around video thumbnail">
        <button class="zoom-btn" onclick="openModal('https://images.unsplash.com/photo-1562939677-2c68e0bf8a8e?w=1200')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="5 3 19 12 5 21 5 3"/>
          </svg>
        </button>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-video" onclick="setStatus('video', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-video" onclick="setStatus('video', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-video">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-video" placeholder="e.g., Video too short, did not show all sides, too shaky..."></textarea>
          <button class="notes-update-btn" id="notes-btn-video" onclick="saveNotes('video')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Section: Inspection Questions -->
    <div class="section-title">Inspection Responses (2)</div>

    <!-- Question 1: Damages -->
    <div class="question-review" id="item-q1">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon question">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Any damages noticed?</div>
            <div class="item-meta">Driver answered: <strong style="color:#FF9800">Yes</strong></div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-q1">Pending</span>
      </div>
      
      <div class="evidence-photos">
        <div class="evidence-label">Driver submitted 2 damage photos:</div>
        <div class="evidence-grid">
          <div class="evidence-thumb" onclick="openModal('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800')">
            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=300&fit=crop" alt="Damage photo 1">
          </div>
          <div class="evidence-thumb" onclick="openModal('https://images.unsplash.com/photo-1590496793929-36417d3117de?w=800')">
            <img src="https://images.unsplash.com/photo-1590496793929-36417d3117de?w=300&h=300&fit=crop" alt="Damage photo 2">
          </div>
        </div>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-q1" onclick="setStatus('q1', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-q1" onclick="setStatus('q1', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-q1">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-q1" placeholder="e.g., Photos are blurry, need closer shots of the damage, need more angles..."></textarea>
          <button class="notes-update-btn" id="notes-btn-q1" onclick="saveNotes('q1')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Question 2: Tires -->
    <div class="question-review" id="item-q2">
      <div class="review-item-header">
        <div class="review-item-title">
          <div class="item-icon question">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
              <line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
          </div>
          <div>
            <div class="item-name">Any bad tires or tire issues?</div>
            <div class="item-meta">Driver answered: <strong style="color:#4CAF50">No</strong></div>
          </div>
        </div>
        <span class="item-status-badge pending" id="badge-q2">Pending</span>
      </div>

      <div class="review-actions">
        <button class="action-btn btn-approve" id="approve-q2" onclick="setStatus('q2', 'approved')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Approve
        </button>
        <button class="action-btn btn-reject" id="reject-q2" onclick="setStatus('q2', 'needs-retake')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M1 4v6h6"/>
            <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
          </svg>
          Needs Re-take
        </button>
      </div>

      <div class="notes-section" id="notes-q2">
        <div class="notes-label">What needs to be fixed?</div>
        <div class="notes-row">
          <textarea class="notes-input" id="notes-input-q2" placeholder="e.g., Please verify tires and provide photos, visible wear in video..."></textarea>
          <button class="notes-update-btn" id="notes-btn-q2" onclick="saveNotes('q2')">Add to Review</button>
        </div>
      </div>
    </div>

    <!-- Submit Section -->
    <div class="submit-section">
      <div class="submit-summary">
        <div class="summary-stats">
          <div class="stat">
            <div class="stat-value approved" id="approvedCount">0</div>
            <div class="stat-label">Approved</div>
          </div>
          <div class="stat">
            <div class="stat-value retake" id="retakeCount">0</div>
            <div class="stat-label">Need Re-take</div>
          </div>
          <div class="stat">
            <div class="stat-value pending" id="pendingCount">6</div>
            <div class="stat-label">Pending</div>
          </div>
        </div>
      </div>

      <button class="submit-btn" id="submitBtn" disabled>
        Complete Review
      </button>
    </div>
  </div>

  <!-- Image Modal -->
  <div class="modal" id="imageModal" onclick="closeModal()">
    <button class="modal-close" onclick="closeModal()">×</button>
    <img class="modal-content" id="modalImage" src="" alt="Full size preview">
  </div>

  <script>
    // State
    const state = {
      photo1: { status: null, notes: '' },
      photo2: { status: null, notes: '' },
      photo3: { status: null, notes: '' },
      video: { status: null, notes: '' },
      q1: { status: null, notes: '' },
      q2: { status: null, notes: '' }
    };

    function setStatus(itemId, status) {
      state[itemId].status = status;
      
      // Update item card
      const item = document.getElementById(`item-${itemId}`);
      item.className = item.className.replace(/approved|needs-retake/g, '').trim() + ' ' + status;
      
      // Update badge
      const badge = document.getElementById(`badge-${itemId}`);
      badge.className = 'item-status-badge ' + status;
      badge.textContent = status === 'approved' ? 'Approved' : 'Needs Re-take';
      
      // Update buttons
      const approveBtn = document.getElementById(`approve-${itemId}`);
      const rejectBtn = document.getElementById(`reject-${itemId}`);
      
      approveBtn.classList.toggle('selected', status === 'approved');
      rejectBtn.classList.toggle('selected', status === 'needs-retake');
      
      // Show/hide notes
      const notes = document.getElementById(`notes-${itemId}`);
      notes.classList.toggle('active', status === 'needs-retake');
      
      // If switching to approved, clear notes
      if (status === 'approved') {
        state[itemId].notes = '';
        const notesInput = document.getElementById(`notes-input-${itemId}`);
        if (notesInput) notesInput.value = '';
        const notesBtn = document.getElementById(`notes-btn-${itemId}`);
        if (notesBtn) {
          notesBtn.textContent = 'Add to Review';
          notesBtn.classList.remove('saved');
        }
      }
      
      updateSummary();
    }

    function saveNotes(itemId) {
      const input = document.getElementById(`notes-input-${itemId}`);
      const btn = document.getElementById(`notes-btn-${itemId}`);
      
      state[itemId].notes = input.value;
      
      // Visual feedback
      btn.textContent = 'Updated ✓';
      btn.classList.add('saved');
      
      setTimeout(() => {
        btn.textContent = 'Update Review';
        btn.classList.remove('saved');
      }, 2000);
      
      console.log(`Notes saved for ${itemId}:`, state[itemId].notes);
    }

    function updateSummary() {
      const items = Object.values(state);
      const approved = items.filter(s => s.status === 'approved').length;
      const retake = items.filter(s => s.status === 'needs-retake').length;
      const pending = items.filter(s => s.status === null).length;
      
      document.getElementById('approvedCount').textContent = approved;
      document.getElementById('retakeCount').textContent = retake;
      document.getElementById('pendingCount').textContent = pending;
      document.getElementById('reviewedCount').textContent = approved + retake;
      
      // Update overall status
      const statusIcon = document.getElementById('overallStatusIcon');
      const statusTitle = document.getElementById('overallStatusTitle');
      const statusDesc = document.getElementById('overallStatusDesc');
      
      if (pending > 0) {
        statusIcon.className = 'status-icon pending';
        statusIcon.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="10"/>
          <line x1="12" y1="8" x2="12" y2="12"/>
          <line x1="12" y1="16" x2="12.01" y2="16"/>
        </svg>`;
        statusTitle.textContent = 'Pending Review';
        statusDesc.textContent = `${pending} item${pending > 1 ? 's' : ''} still need review`;
      } else if (retake > 0) {
        statusIcon.className = 'status-icon issues';
        statusIcon.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M1 4v6h6"/>
          <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"/>
        </svg>`;
        statusTitle.textContent = 'Issues Found';
        statusDesc.textContent = `${retake} item${retake > 1 ? 's' : ''} need re-submission`;
      } else {
        statusIcon.className = 'status-icon approved';
        statusIcon.innerHTML = `<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
          <polyline points="22 4 12 14.01 9 11.01"/>
        </svg>`;
        statusTitle.textContent = 'All Approved';
        statusDesc.textContent = 'Ready to complete review';
      }
      
      // Update submit button
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.disabled = pending > 0;
      
      if (pending === 0 && retake > 0) {
        submitBtn.classList.add('has-issues');
        submitBtn.textContent = 'Send Back for Re-take';
      } else {
        submitBtn.classList.remove('has-issues');
        submitBtn.textContent = 'Complete Review';
      }
    }

    function openModal(imageUrl) {
      document.getElementById('modalImage').src = imageUrl;
      document.getElementById('imageModal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('imageModal').classList.remove('active');
    }

    // Close modal on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeModal();
    });

    // Submit button (does nothing)
    document.getElementById('submitBtn').addEventListener('click', () => {
      console.log('Review submitted:', state);
      // Does nothing as requested
    });
  </script>
</body>
</html>
